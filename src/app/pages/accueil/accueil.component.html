<h1>Gestion des Tickets</h1>

<button mat-raised-button routerLink="/nouveau-ticket" color="primary">
  <mat-icon>add</mat-icon>
  Créer un nouveau ticket
</button>

<div>
  <h3>Liste des tickets</h3>
  <table>
    <thead>
      <tr>
        <th>Titre</th>
        <th>Description</th>
        <th>Statut</th>
        <th>Assigné à</th>
        <th @If(isAdminOrChef)>Actions</th>

      </tr>
    </thead>
    <tbody>
      @for(ticket of tickets; track $index){
      <tr>
        <td>{{ ticket.title }}</td>
        <td>{{ ticket.description }}</td>
        <td>{{ ticket.closed_at }}</td>
        <td>{{ ticket.assignee }}</td>
        <td @if(isAdminOrChef)>
          <button mat-button (click)="onDeleteTicket(ticket.id)">Supprimer</button>
        </td>
      </tr>
    }
    </tbody>
  </table>
</div>

<div *ngIf="tickets.length < 0">
  <p>Aucun ticket trouvé.</p>
</div>
